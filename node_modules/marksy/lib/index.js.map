{"version":3,"sources":["../src/index.js"],"names":["marksy","options","tracker","tree","elements","nextElementId","toc","renderer","compile","content","markedOptions","Object","assign","smartypants"],"mappings":";;;;;QAGgBA,M,GAAAA,M;;kBAqBD,UAAUC,OAAV,EAAmB;AAChC,SAAOD,OAAOC,OAAP,CAAP;AACD,C;;AA1BD;;;;AACA;;;;;;AAEO,SAASD,MAAT,GAA+B;AAAA,MAAdC,OAAc,uEAAJ,EAAI;;AACpC,MAAMC,UAAU;AACdC,UAAM,IADQ;AAEdC,cAAU,IAFI;AAGdC,mBAAe,IAHD;AAIdC,SAAK;AAJS,GAAhB;AAMA,MAAMC,WAAW,8BAAeL,OAAf,EAAwBD,OAAxB,CAAjB;;AAEA,SAAO,SAASO,OAAT,CAAkBC,OAAlB,EAA+C;AAAA,QAApBC,aAAoB,uEAAJ,EAAI;;AACpDR,YAAQC,IAAR,GAAe,EAAf;AACAD,YAAQE,QAAR,GAAmB,EAAnB;AACAF,YAAQI,GAAR,GAAc,EAAd;AACAJ,YAAQG,aAAR,GAAwB,CAAxB;AACA,0BAAOI,OAAP,EAAgBE,OAAOC,MAAP,CAAc,EAACL,UAAUA,QAAX,EAAqBM,aAAa,IAAlC,EAAd,EAAuDH,aAAvD,CAAhB;;AAEA,WAAO,EAACP,MAAMD,QAAQC,IAAf,EAAqBG,KAAKJ,QAAQI,GAAlC,EAAP;AACD,GARD;AASD;;AAKA","file":"index.js","sourcesContent":["import marked from 'marked';\nimport createRenderer from './createRenderer';\n\nexport function marksy (options = {}) {\n  const tracker = {\n    tree: null,\n    elements: null,\n    nextElementId: null,\n    toc: null\n  };\n  const renderer = createRenderer(tracker, options)\n\n  return function compile (content, markedOptions = {}) {\n    tracker.tree = [];\n    tracker.elements = {};\n    tracker.toc = [];\n    tracker.nextElementId = 0;\n    marked(content, Object.assign({renderer: renderer, smartypants: true}, markedOptions));\n\n    return {tree: tracker.tree, toc: tracker.toc};\n  };\n}\n\n\nexport default function (options) {\n  return marksy(options)\n};\n"]}